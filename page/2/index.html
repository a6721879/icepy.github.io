<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>农业-行者</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="iOS JavaScript Swift Objective-C 前端 HTML5">
<meta property="og:type" content="website">
<meta property="og:title" content="农业-行者">
<meta property="og:url" content="http://lcepy.github.io/page/2/index.html">
<meta property="og:site_name" content="农业-行者">
<meta property="og:description" content="iOS JavaScript Swift Objective-C 前端 HTML5">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="农业-行者">
<meta name="twitter:description" content="iOS JavaScript Swift Objective-C 前端 HTML5">
  
    <link rel="alternative" href="/atom.xml" title="农业-行者" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link rel="stylesheet" href="/css/style.css" type="text/css">
</head>
<body>
  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
	<header id="header" class="inner">
		<a href="/" class="profilepic">
			
			<img lazy-src="http://7qncz5.com1.z0.glb.clouddn.com/blog/mockingbird.jpg" class="js-avatar">
			
		</a>

		<hgroup>
		  <h1 class="header-author"><a href="/">icepy</a></h1>
		</hgroup>

		
		<p class="header-subtitle">曾记否，到中流击水，浪遏飞舟！</p>
		

		
			<div class="switch-btn">
				<div class="icon">
					<div class="icon-ctn">
						<div class="icon-wrap icon-house" data-idx="0">
							<div class="birdhouse"></div>
							<div class="birdhouse_holes"></div>
						</div>
						<div class="icon-wrap icon-ribbon hide" data-idx="1">
							<div class="ribbon"></div>
						</div>
						
						
						<div class="icon-wrap icon-me hide" data-idx="3">
							<div class="user"></div>
							<div class="shoulder"></div>
						</div>
						
					</div>
					
				</div>
				<div class="tips-box hide">
					<div class="tips-arrow"></div>
					<ul class="tips-inner">
						<li>菜单</li>
						<li>标签</li>
						
						
						<li>关于我</li>
						
					</ul>
				</div>
			</div>
		

		<div class="switch-area">
			<div class="switch-wrap">
				<section class="switch-part switch-part1">
					<nav class="header-menu">
						<ul>
						
							<li><a href="/">主页</a></li>
				        
							<li><a href="/archives">所有文章</a></li>
				        
						</ul>
					</nav>
					<nav class="header-nav">
						<div class="social">
							
								<a class="github" target="_blank" href="https://github.com/icepy" title="github">github</a>
					        
								<a class="weibo" target="_blank" href="http://weibo.com/u/2455876310" title="weibo">weibo</a>
					        
								<a class="rss" target="_blank" href="/atom.xml" title="rss">rss</a>
					        
								<a class="facebook" target="_blank" href="http://www.facebook.com/py.ice.79" title="facebook">facebook</a>
					        
						</div>
					</nav>
				</section>
				
				
				<section class="switch-part switch-part2">
					<div class="widget tagcloud" id="js-tagcloud">
						<a href="/tags/JavaScript/" style="font-size: 18px;">JavaScript</a> <a href="/tags/django/" style="font-size: 14px;">django</a> <a href="/tags/iOS/" style="font-size: 20px;">iOS</a> <a href="/tags/nodejs/" style="font-size: 10px;">nodejs</a> <a href="/tags/python/" style="font-size: 10px;">python</a> <a href="/tags/生活/" style="font-size: 16px;">生活</a> <a href="/tags/简历/" style="font-size: 10px;">简历</a> <a href="/tags/经验之谈/" style="font-size: 12px;">经验之谈</a>
					</div>
				</section>
				
				
				

				
				
				<section class="switch-part switch-part3">
				
					<div id="js-aboutme">怅寥廓，问苍茫大地，谁主沉浮？</div>
				</section>
				
			</div>
		</div>
	</header>				
</div>
    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
  	<div class="overlay">
  		<div class="slider-trigger"></div>
  		<h1 class="header-author js-mobile-header hide">icepy</h1>
  	</div>
	<div class="intrude-less">
		<header id="header" class="inner">
			<div class="profilepic">
				<img lazy-src="http://7qncz5.com1.z0.glb.clouddn.com/blog/mockingbird.jpg" class="js-avatar">
			</div>
			<hgroup>
			  <h1 class="header-author">icepy</h1>
			</hgroup>
			
			<p class="header-subtitle">曾记否，到中流击水，浪遏飞舟！</p>
			
			<nav class="header-menu">
				<ul>
				
					<li><a href="/">主页</a></li>
		        
					<li><a href="/archives">所有文章</a></li>
		        
		        <div class="clearfix"></div>
				</ul>
			</nav>
			<nav class="header-nav">
				<div class="social">
					
						<a class="github" target="_blank" href="https://github.com/icepy" title="github">github</a>
			        
						<a class="weibo" target="_blank" href="http://weibo.com/u/2455876310" title="weibo">weibo</a>
			        
						<a class="rss" target="_blank" href="/atom.xml" title="rss">rss</a>
			        
						<a class="facebook" target="_blank" href="http://www.facebook.com/py.ice.79" title="facebook">facebook</a>
			        
				</div>
			</nav>
		</header>				
	</div>
</nav>
      <div class="body-wrap">
  
    <article id="post-iOS提高效率的方法和工具" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/07/14/iOS提高效率的方法和工具/" class="article-date">
  	<time datetime="2015-07-14T07:54:08.000Z" itemprop="datePublished">2015-07-14</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/07/14/iOS提高效率的方法和工具/">iOS提高效率的方法和工具</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="介绍">介绍</h2><p>工欲善其事，必先利其器。这篇博文，主要是总结自己在开发iOS过程中使用到的一些可以提高效率的方法和工具。</p>
<h3 id="开发工具，当然还是首选Xcode。">开发工具，当然还是首选Xcode。</h3><ul>
<li><a href="http://www.cocoachina.com/ios/20141224/10752.html" target="_blank" rel="external">常用快捷键</a></li>
</ul>
<h3 id="木说我不告诉你常用片段">木说我不告诉你常用片段</h3><ul>
<li><a href="https://github.com/Xcode-Snippets/Objective-C" target="_blank" rel="external">Objective-C常用片段</a></li>
<li><a href="https://github.com/burczyk/XcodeSwiftSnippets" target="_blank" rel="external">Swift常用片段</a></li>
</ul>
<h3 id="我自己常用的Xcode插件">我自己常用的Xcode插件</h3><ul>
<li><a href="https://github.com/kattrali/cocoapods-xcode-plugin" target="_blank" rel="external">cocoapods管理-cocoapods-xcode-plugin</a></li>
<li><a href="https://github.com/supermarin/Alcatraz" target="_blank" rel="external">Xcode插件管理-Alcatraz</a></li>
<li><a href="https://github.com/ksuther/KSImageNamed-Xcode" target="_blank" rel="external">选择图片时的智能提示-KSImageNamed-Xcode</a></li>
<li><a href="https://github.com/omz/ColorSense-for-Xcode" target="_blank" rel="external">UIColor可以弹出Xcode的颜色选择框-ColorSense-for-Xcode</a></li>
<li><a href="https://github.com/markohlebar/Peckham" target="_blank" rel="external">快捷 add #import-Peckham</a></li>
<li><a href="https://github.com/stefanceriu/SCXcodeMiniMap" target="_blank" rel="external">Xcode迷你小地图-SCXcodeMiniMap</a></li>
<li><a href="https://github.com/onevcat/VVDocumenter-Xcode" target="_blank" rel="external">文档注释-VVDocumenter-Xcode</a></li>
<li><a href="https://github.com/trawor/XToDo" target="_blank" rel="external">快捷查看ToDo-XToDo</a> </li>
</ul>
<p>如果Xcode插件不能满足自己的需求，怎么办？请看<a href="http://zixun.github.io/blog/2015/05/04/xcode6cha-jian-kai-fa-ru-men/" target="_blank" rel="external">自己动手丰衣足食-Xcode插件开发</a></p>
<p>另外推荐学习一下LLDB调试</p>
<ul>
<li><a href="http://www.starfelix.com/blog/2014/03/17/lldbdiao-shi-ming-ling-chu-tan/" target="_blank" rel="external">LLDB调试命令初探</a></li>
<li><a href="http://objccn.io/issue-19-2/" target="_blank" rel="external">与调试器共舞 - LLDB 的华尔兹</a></li>
<li><a href="https://github.com/facebook/chisel" target="_blank" rel="external">LLDB命令库扩展</a></li>
</ul>
<h3 id="我自己常用的网络数据相关工具">我自己常用的网络数据相关工具</h3><ul>
<li><a href="https://www.sprintapi.com/dhcs.html" target="_blank" rel="external">DHC</a></li>
<li><a href="https://www.getpostman.com/" target="_blank" rel="external">POSTMAN</a></li>
<li><a href="http://www.runoob.com/tool/json/index.html" target="_blank" rel="external">JSON格式化工具</a></li>
<li><a href="https://chrome.google.com/webstore/detail/xml-tree/gbammbheopgpmaagmckhpjbfgdfkpadb" target="_blank" rel="external">XML TREE</a></li>
</ul>
<h3 id="我自己常用的其他工具">我自己常用的其他工具</h3><p>要是设计师太较真，那么测量像素的工具是你的好帮手</p>
<ul>
<li><a href="http://www.ricciadams.com/projects/pixel-winch" target="_blank" rel="external">Pixel Winch</a></li>
</ul>
<p>收集亦是灵感的来源，36¥</p>
<ul>
<li><a href="http://zrey.com/app/pincap" target="_blank" rel="external">PinCap</a></li>
</ul>
<p>模拟器文件目录太深，怎么办？用SimPholders2吧</p>
<ul>
<li><a href="http://simpholders.com/" target="_blank" rel="external">SimPholders2</a></li>
</ul>
<p>png图片可以压缩质量</p>
<ul>
<li><a href="https://tinypng.com/" target="_blank" rel="external">tinypng</a></li>
</ul>
<p>设计工具，（做为一个不懂设计的人用这个也很容易）198¥</p>
<ul>
<li><a href="http://www.pixelmator.com/support/" target="_blank" rel="external">Pixelmator</a></li>
</ul>
<p>自动生成icon，只需要上传一张1024*1024图片，在线和Mac客户端要求一样</p>
<ul>
<li><a href="http://makeappicon.com/" target="_blank" rel="external">makeappicon在线的</a></li>
<li><a href="http://wearemothership.com/" target="_blank" rel="external">Mac 客户端的</a></li>
</ul>
<p>搜索免费的图标icon，而且是全套哦，亲（iOS Android Windows）</p>
<ul>
<li><a href="https://icons8.com/" target="_blank" rel="external">icons8</a></li>
</ul>
<p>搜索素材，而且已经署名了版权免费，审核时再也不怕因为版权问题被拒了</p>
<ul>
<li><a href="https://pixabay.com/" target="_blank" rel="external">pixabay</a></li>
</ul>
<p>提交AppStore的截图工具（4s-6p全套）</p>
<ul>
<li><a href="https://appscreens.io/" target="_blank" rel="external">appscreens</a></li>
</ul>
<p>把用户提交到的评论发送到邮件，及时看见反馈</p>
<ul>
<li><a href="https://launchkit.io/reviews/" target="_blank" rel="external">launchkit</a></li>
</ul>
<p>高效的利用Github的star来管理比较好的开源项目，建议还是可以入手的68¥</p>
<ul>
<li><a href="http://www.ohmystarapp.com/" target="_blank" rel="external">ohmystar</a></li>
</ul>
<p>另外也可以利用Github Search</p>
<ul>
<li><a href="https://github.com/search/advanced" target="_blank" rel="external">advanced</a></li>
</ul>
<h3 id="开发用的第三方库，Github上有1000+列表，你想不到的都能挖出来">开发用的第三方库，Github上有1000+列表，你想不到的都能挖出来</h3><ul>
<li><a href="https://github.com/iamdaiyuan/ios_top_1000" target="_blank" rel="external">感觉真的史上最全的了 1000+ 大部分是Objective-C</a> </li>
<li><a href="https://github.com/ipader/SwiftGuide/blob/master/Featured.md" target="_blank" rel="external">Swift比较全的开源项目</a></li>
</ul>
<h3 id="绝对没给VPN打广告，代理不得不用">绝对没给VPN打广告，代理不得不用</h3><p>我自己用云梯，感觉还可以—<a href="https://www.cloudtizi.com/" target="_blank" rel="external">云梯</a></p>
<h3 id="感觉还可以但没舍得买的工具，真的真的好贵">感觉还可以但没舍得买的工具，真的真的好贵</h3><ul>
<li><a href="http://www.coreanimator.com/#keyframing" target="_blank" rel="external">CoreAnimator</a></li>
<li><a href="http://www.quartzcodeapp.com/" target="_blank" rel="external">QuartzCode</a></li>
</ul>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/iOS/">iOS</a></li></ul>
	</div>

      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>







  
    <article id="post-policy" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/07/09/policy/" class="article-date">
  	<time datetime="2015-07-09T07:50:31.000Z" itemprop="datePublished">2015-07-09</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/07/09/policy/">隐私政策</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>申明 \n\n《猿已阅》不会存留你的（用户）任何信息，包括Email，若你需要订阅《码农周刊》，可以在［隐私政策与订阅］中输入你的Email进行订阅。若你（用户）确认订阅，一切事宜与此应用作者无关，请详细阅读《码农周刊》的隐私政策以及服务条款。</p>
<p>可以访问 <a href="http://weekly.manong.io/" target="_blank" rel="external">《码农周刊》</a></p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/iOS/">iOS</a></li></ul>
	</div>

      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>







  
    <article id="post-CALayer几何" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/07/07/CALayer几何/" class="article-date">
  	<time datetime="2015-07-07T13:09:43.000Z" itemprop="datePublished">2015-07-07</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/07/07/CALayer几何/">CALayer几何</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>了解iOS的几何学，是非常有帮助的，从而可以认识到它是如何控制位置，尺寸以及对自动布局的影响。</p>
<p>UIView和CALayer有三个非常重要的布局属性，frame,bounds和center与position，实际上center和position是一个相同的值，只是为了区分UIView和CALayer。</p>
<p>frame是视图相对于父视图的坐标系，而bounds则是内部坐标，一般情况下{0,0}在内部坐标中描述的是左上角。center和position都代表了相对父视图的anchorPoint所在的位置，anchorPoint的坐标一般情况下都是图层的中心点。</p>
<p>anchorPoint的坐标相对于是你有一张白纸，有一个图钉，在这个白纸的范围内你的图钉一般可以定在中间，左右上下角，而这几个点都可以成为anchorPoint的坐标。</p>
<p>这几个属性是互相影响的，如果你的center或者position坐标变了，也会相应的改变frame和bounds，当然图层还是在原来的高宽组成的矩阵范围之内。</p>
<pre><code><span class="keyword">self</span><span class="variable">.geometryView</span> = [[<span class="built_in">UIView</span> alloc] initWithFrame:<span class="built_in">CGRectMake</span>(<span class="number">10</span>, <span class="number">74</span>, <span class="number">200</span>, <span class="number">200</span>)];
<span class="keyword">self</span><span class="variable">.geometryView</span><span class="variable">.backgroundColor</span> = [<span class="built_in">UIColor</span> grayColor];
[<span class="keyword">self</span><span class="variable">.view</span> addSubview:<span class="keyword">self</span><span class="variable">.geometryView</span>];

<span class="keyword">self</span><span class="variable">.layer</span> = [<span class="built_in">CALayer</span> layer];
<span class="keyword">self</span><span class="variable">.layer</span><span class="variable">.frame</span> = <span class="built_in">CGRectMake</span>(<span class="number">50</span>, <span class="number">50</span>, <span class="number">100</span>, <span class="number">100</span>);
<span class="keyword">self</span><span class="variable">.layer</span><span class="variable">.backgroundColor</span> = [<span class="built_in">UIColor</span> colorWithRed:<span class="number">0.000</span> green:<span class="number">0.502</span> blue:<span class="number">0.502</span> alpha:<span class="number">1.000</span>]<span class="variable">.CGColor</span>;
<span class="keyword">self</span><span class="variable">.layer</span><span class="variable">.borderWidth</span> = <span class="number">1</span>;
<span class="keyword">self</span><span class="variable">.layer</span><span class="variable">.anchorPoint</span> = <span class="built_in">CGPointMake</span>(<span class="number">1</span>, <span class="number">1</span>);
<span class="keyword">self</span><span class="variable">.layer</span><span class="variable">.borderColor</span> = [<span class="built_in">UIColor</span> blackColor]<span class="variable">.CGColor</span>;
[<span class="keyword">self</span><span class="variable">.geometryView</span><span class="variable">.layer</span> addSublayer:<span class="keyword">self</span><span class="variable">.layer</span>];
</code></pre><p>运行这段代码看一看</p>
<p>和视图一样，图层在图层树当中也是相对于父图层的层级关系放置的，如果父图层进行了移动，那么图层也会根据父图层发生移动，也就是意味着position属性可能会发生改变。</p>
<p>这样对于放置图层会更加方便，因为你可以通过移动根图层来将它的子图层作为一个整体来移动，但是有时候你需要知道一个图层的绝对位置，或者是相对于另一个图层的位置，而不是它当前父图层的位置。</p>
<p>CALayer给不同的坐标之间图层提供了一些工具方法，可以进行判断。</p>
<pre><code><span class="tag">-</span> (<span class="tag">CGPoint</span>)<span class="rule"><span class="attribute">convertPoint</span>:<span class="value">(CGPoint)point fromLayer:(CALayer *)layer</span></span>; 
<span class="tag">-</span> (<span class="tag">CGPoint</span>)<span class="rule"><span class="attribute">convertPoint</span>:<span class="value">(CGPoint)point toLayer:(CALayer *)layer</span></span>; 
<span class="tag">-</span> (<span class="tag">CGRect</span>)<span class="rule"><span class="attribute">convertRect</span>:<span class="value">(CGRect)rect fromLayer:(CALayer *)layer</span></span>;
<span class="tag">-</span> (<span class="tag">CGRect</span>)<span class="rule"><span class="attribute">convertRect</span>:<span class="value">(CGRect)rect toLayer:(CALayer *)layer</span></span>;
</code></pre><p>虽然CALayer并不关心任何响应链事件，但是它也提供了一些方法来帮助我们处理事件</p>
<pre><code>-(<span class="keyword">void</span>)touchesBegan:(<span class="built_in">NSSet</span> *)touches withEvent:(<span class="built_in">UIEvent</span> *)event
{
    <span class="built_in">CGPoint</span> point = [[touches anyObject] locationInView:<span class="keyword">self</span><span class="variable">.view</span>];
    point = [<span class="keyword">self</span><span class="variable">.geometryView</span><span class="variable">.layer</span> convertPoint:point fromLayer:<span class="keyword">self</span><span class="variable">.view</span><span class="variable">.layer</span>];
    <span class="keyword">if</span> ([<span class="keyword">self</span><span class="variable">.geometryView</span><span class="variable">.layer</span> containsPoint:point]) {
        point = [<span class="keyword">self</span><span class="variable">.layer</span> convertPoint:point fromLayer:<span class="keyword">self</span><span class="variable">.geometryView</span><span class="variable">.layer</span>];
        <span class="keyword">if</span> ([<span class="keyword">self</span><span class="variable">.layer</span> containsPoint:point]) {
            [[[<span class="built_in">UIAlertView</span> alloc] initWithTitle:<span class="string">@"Inside layer"</span>
                                    message:<span class="literal">nil</span>
                                   delegate:<span class="literal">nil</span>
                          cancelButtonTitle:<span class="string">@"OK"</span>
                          otherButtonTitles:<span class="literal">nil</span>] show];
        } <span class="keyword">else</span> {
            [[[<span class="built_in">UIAlertView</span> alloc] initWithTitle:<span class="string">@"Inside view"</span>
                                    message:<span class="literal">nil</span>
                                   delegate:<span class="literal">nil</span>
                          cancelButtonTitle:<span class="string">@"OK"</span>
                          otherButtonTitles:<span class="literal">nil</span>] show];
        }
    }
}
</code></pre><p>touches系列的方法，可以通过point来探知究竟触摸在图层的哪一个范围内。</p>
<p>相对于这些，图层还有一个三维空间，比如两个图层，谁在上面（可视）谁在下面，zPosition就是来干这个事情的，不过一般很少会使用，你这么设计会比较反人类。想象一下，如果我是一个画家，我在画板上绘画，一般都是后面绘画的画会覆盖在前面绘画的画上，虽然这个属性可以用并且调整，但是我们还是要遵循一下传统，尽量别这么设计。</p>
<p>自从iOS6以来，Apple推出了约束布局，虽然操作视图比如UIView中，可以利用它暴露出来的NSLayoutConstraintAPI，但是CALayer有点麻烦，需要人工，最简单的办法是使用CALayerDelegate。</p>
<pre><code><span class="tag">-</span> (<span class="tag">void</span>)<span class="rule"><span class="attribute">layoutSublayersOfLayer</span>:<span class="value">(CALayer *)layer</span></span>;
</code></pre><p>来进行重新计算坐标系。</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/iOS/">iOS</a></li></ul>
	</div>

      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>







  
    <article id="post-CALayer基础与寄宿图" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/07/05/CALayer基础与寄宿图/" class="article-date">
  	<time datetime="2015-07-05T05:26:49.000Z" itemprop="datePublished">2015-07-05</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/07/05/CALayer基础与寄宿图/">CALayer基础与寄宿图</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>说起来Core Animation是一个复合引擎，它的职责就是尽可能快的组合屏幕上不同的可视内容，这个内容是被分解成独立的图层，存储在一个叫图层树的体系中。如果我们想学习动画，那么一切都从它开始。</p>
<h2 id="CALayer与UIView的区别">CALayer与UIView的区别</h2><p>和UIView最大的不同是CALayer不能处理与用户交互的事件，CALayer并不清楚具体的响应链，即使它提供了一些方法来判断是否触摸在图层的范围内。</p>
<h2 id="CALayer">CALayer</h2><p>CALayer与UIView是一个平行的关系，每一个UIView都存在一个layer属性，视图的职责就是创建并管理这个图层，并且确保当子视图在层级关系中被添加或移除时，它们关联在图层在同样的对应的层级关系树中有同样的操作。（不要急，理论虽然有些绕，慢慢理解）</p>
<pre><code><span class="tag">var</span> layer:CALayer = <span class="function"><span class="title">CALayer</span><span class="params">()</span></span>
layer<span class="class">.frame</span> = <span class="function"><span class="title">CGRectMake</span><span class="params">(<span class="number">50</span>, <span class="number">50</span>, <span class="number">200</span>, <span class="number">200</span>)</span></span>
layer<span class="class">.backgroundColor</span> = <span class="function"><span class="title">UIColor</span><span class="params">(red: <span class="number">0.400</span>, green: <span class="number">0.800</span>, blue: <span class="number">1.000</span>, alpha: <span class="number">1.000</span>)</span></span><span class="class">.CGColor</span>
self<span class="class">.view</span><span class="class">.layer</span><span class="class">.addSublayer</span>(layer)
</code></pre><p>添加一个图层到UIView中，然后运行看看</p>
<p>其实在某种意义上来说，对于一些简单的需求，我们确实没有必要去处理CALayer，那是因为Apple已经通过UIView的高级API间接的使动画变得很简单，使用它何乐而不为呢。</p>
<pre><code>UIView.animateWithDuration<span class="function"><span class="params">(<span class="number">1.2</span>, animations: { () -&gt; Void <span class="keyword">in</span>

})</span></span>
</code></pre><p>那么，我们使用CALayer到底能实现什么UIView不能实现的呢？</p>
<ul>
<li>阴影，圆角，带颜色的边框</li>
<li>3D变换</li>
<li>非矩形范围</li>
<li>透明遮罩</li>
<li>多级非线性动画</li>
</ul>
<h2 id="创建寄宿图">创建寄宿图</h2><p>所谓的寄宿图也就是在图层中包含的图，有了图片，我们可以展现更丰富的视觉效果。</p>
<p>CALayer有一个属性叫contents，这个属性的类型是id类型，而我们要把图片创建在图层上，就需要使用这个属性，当然在Swift中它是一个AnyObject。</p>
<pre><code><span class="built_in">UIImage</span> *image = [<span class="built_in">UIImage</span> imageNamed:<span class="string">@"mockingbird.png"</span>];
<span class="keyword">self</span><span class="variable">.lodgeLayerView</span><span class="variable">.contents</span> = (__bridge <span class="keyword">id</span>) image<span class="variable">.CGImage</span>;

var image:<span class="built_in">UIImage</span> = <span class="built_in">UIImage</span>(named: <span class="string">"mockingbird.png"</span>)!
layer<span class="variable">.contents</span> = image<span class="variable">.CGImage</span>
</code></pre><p>感觉看起来云豹还算显示正常，万一它有点胖，怎么办呢？如果我们使用UIImageView，那么有contentMode属性可以设置，想一想CALayer是不是也有同样的，遗憾的是，没有，但是它有contentsGravity。</p>
<pre><code>layer<span class="class">.contentsGravity</span> = kCAGravityResizeAspectFill
</code></pre><p>动动你的手指，每一个试一试，看看图片是怎么现实的。</p>
<p>对于双倍屏幕，其实contentsScale属性目前来说已经使用的好少了，它定义了寄宿图的像素尺寸和视图大小的比例，默认情况下它是一个1.0的浮点数。</p>
<p>在某些情况下，我们的云豹已经显示正常大小了，但是你可能发现它超出边界了，那么，亲你能用上maskToBounds属性了，设置为true，它就在边界内了。</p>
<pre><code>layer.<span class="variable">masksToBounds =</span> <span class="constant">true</span>
</code></pre><p>近些年来在用css做网站时，大家都非常流行使用图片精灵的方式去处理图片，为什么？因为它能优化性能。那么在iOS开发中一样可以，我们要用的就是contentsRect属性。</p>
<p>这个坐标系统相对有些绕，因为它采用的是单位坐标，它的值只在0-1之间，用来描述相对位置。</p>
<pre><code>layer<span class="class">.contentsRect</span> = <span class="function"><span class="title">CGRectMake</span><span class="params">(<span class="number">0.5</span>, <span class="number">0</span>, <span class="number">0.5</span>, <span class="number">0.5</span>)</span></span>
</code></pre><p>如果我们想使寄宿图可以均匀的拉伸，那么contentsCenter属性是最佳选择，不过要记住一点，它不会主动去拉伸，除非是图层变了。</p>
<pre><code>layer<span class="class">.contentsCenter</span> = <span class="function"><span class="title">CGRectMake</span><span class="params">(<span class="number">0.25</span>, <span class="number">0.25</span>, <span class="number">0.5</span>, <span class="number">0.5</span>)</span></span>
</code></pre><h2 id="自定义图层">自定义图层</h2><pre><code><span class="keyword">override</span> <span class="func"><span class="keyword">func</span> <span class="title">drawLayer</span><span class="params">(layer: CALayer!, inContext ctx: CGContext!)</span></span> {

}
</code></pre><p>Apple的建议是如果你没有这方面的需求，最好不要写一个空的drawLayer方法在你的代码中，因为一旦视图检测到被调用，那么就会分配一个图层。</p>
<p>在这里，我们主要是利用Core Graphics去绘制一些寄宿图，然后添加到上下文中。</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/iOS/">iOS</a></li></ul>
	</div>

      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>







  
    <article id="post-记录第一次创业的挫折经历" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/07/04/记录第一次创业的挫折经历/" class="article-date">
  	<time datetime="2015-07-04T15:51:45.000Z" itemprop="datePublished">2015-07-04</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/07/04/记录第一次创业的挫折经历/">记录第一次创业的挫折经历</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>回想今晚，坐在铁轨上喝着啤酒，脑袋里就想着我哥哥给我说的一句话：意料之中，创业你还太嫩了。呵呵，我以为会这样，我以为会怎样，谁又想到是这样呢？</p>
<ul>
<li>一个人去实地考察，山里面，下暴雨</li>
<li>一个人去跑工商局，问情况</li>
<li>一个人跟乡政府的书记吃饭喝酒，掏了800多</li>
<li>一个人写创业计划书给投资人</li>
<li>一个人写To List 一个月内的</li>
<li>一个人买了农业大学大一到大四的教科书</li>
<li>一个人在做市场调查</li>
<li>一个人在做预算报表</li>
<li>一个人在接待投资人，陪同去实地考察</li>
<li>一个人在写微信端和官网</li>
<li>一个人在做无土栽培和共生系统的实验</li>
</ul>
<p>我都不知道，这是创业吗，还是我来给你们打工的。满腔热血，换来的是冷漠。</p>
<p>看看我跑来的成果，那又怎么样？农业怎么了？不体面吗？我们之间一点契约精神都没，说不搞就不搞撂挑子了。每个人都有自己的小盘算，是，我理解，那又怎么样？每次到了关键时刻，就开始退缩了。</p>
<p>各种理由，你爸妈不想你辞职，我今年还想拿年终奖，我还有点别的事情，那你来创个鬼的业，之前约定好的一起回来，说翻脸就翻脸，又只有我一个人回来。</p>
<p>我哥哥说的对，意料之中，创业你还太嫩了。</p>
<p><img src="http://7qncz5.com1.z0.glb.clouddn.com/action/IMG_0575.png" alt=""></p>
<p>如果创业，年终奖这种风险，时间风险，你都承受不了，那你还来创个毛的业，都想赚钱又不想出力，天朝这种好事，怎么就轮不到我呢。</p>
<p><img src="http://7qncz5.com1.z0.glb.clouddn.com/action/IMG_0573.png" alt=""></p>
<p>在离开北京时，我们四个人一起商量着能做些什么，于是我们想到了食品安全，我们想做生态农业，想做安全，放心的食材，我们觉得这非常有意义。</p>
<p>我们想到了在雪峰山这个大生态圈中去研究食材，我们想到了如何利用好H5技术去推广，营销，我们想到了如何利用好雪峰山这个生态圈去研究共生系统，我们想到了如何利用好移动互联网去跟需求安全，放心食材的客户对接。于是，我们下了决心，希望能朝着我们预期的目标前进。</p>
<p>在这里，我就犯了自己第一个错误，前期我很主动的去承担了评估的工作，在网上找数据，联系农业专家，给在林业局上班的表哥打电话要来雪峰山的土壤评估，能否去养殖和种植什么，看看市场的行情是怎样的。</p>
<p>我把这些东西整理成了一个小册子，用邮件写给了我的合伙人。</p>
<p>第一步总是美好和圆满的，对于前景我们也很有信心把它做好，而且如果我们做的好还能带动我们的族人一起，这个积极意义就更大了，不是么。</p>
<p>有了第一步的基础，很顺利的进入预估期，开始预估我们能承包多少地，我们的微信端和官方网站的开发周期，我们能种植养殖什么，确定了这一个目标，我们约定好了七月初六月底一起回到家乡，开创我们的事业。</p>
<p>6月23日，我从北京辞职，回到了雪峰山，开始进行筹备工作，到这里为止，噩梦来了。</p>
<hr>
<p>说好的一起回到家乡，却只有我一个人，那么就一个人吧，我又开始迁就我的团队成员，开始了漫长的一个人系列。</p>
<p>最后的结局是什么呢？一个合伙人的家里不允许他回来，因为农业，农民是不体面的工作，如果回来搞这个大学就白读了。一个合伙人希望能拿了年终奖再回来，不想前半年的时间都浪费了。说到这里，前面的好像都白说了，因为我回来了，损失的只是我一个人，前前后后花费的精力和金钱。</p>
<p>哥哥说的那句话，真的很讽刺我，我确实太嫩了。</p>
<p>我记得我们小时候都不是这样的，为什么人长大了，变成了这样。</p>
<p>很希望，我们还是这样的老房子，什么都未变，可是确实变了。</p>
<p><img src="http://7qncz5.com1.z0.glb.clouddn.com/action/IMG_0587.png" alt=""></p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/生活/">生活</a></li></ul>
	</div>

      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>







  
  
    <nav id="page-nav">
      <a class="extend prev" rel="prev" href="/">&laquo; Prev</a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><a class="page-number" href="/page/4/">4</a><span class="space">&hellip;</span><a class="page-number" href="/page/13/">13</a><a class="extend next" rel="next" href="/page/3/">Next &raquo;</a>
    </nav>
  
</div>
      <footer id="footer">
  <div class="outer">
    <div id="footer-info">
    	<div class="footer-left">
    		&copy; 2015 icepy
    	</div>
      	<div class="footer-right">
      		<a href="http://hexo.io/" target="_blank">Hexo</a>  Theme <a href="https://github.com/litten/hexo-theme-yilia" target="_blank">Yilia</a> by Litten
      	</div>
    </div>
  </div>
</footer>
<script>
var _hmt = _hmt || [];
(function() {
var hm = document.createElement("script");
hm.src = "//hm.baidu.com/hm.js?37a8f2a62793e2b12b1c0ea96d7849af";
var s = document.getElementsByTagName("script")[0]; 
s.parentNode.insertBefore(hm, s);
})();
</script>

    </div>
    
  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css" type="text/css">


<script>
	var yiliaConfig = {
		fancybox: true,
		mathjax: true,
		animate: true,
		isHome: true,
		isPost: false,
		isArchive: false,
		isTag: false,
		isCategory: false,
		open_in_new: false
	}
</script>
<script src="http://7.url.cn/edu/jslib/comb/require-2.1.6,jquery-1.9.1.min.js" type="text/javascript"></script>
<script src="/js/main.js" type="text/javascript"></script>






<script type="text/x-mathjax-config">
MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    }
});

MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';                 
    }       
});
</script>

<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>


  </div>
</body>
</html>